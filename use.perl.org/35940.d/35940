<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="shortcut icon" href="//use.perl.org/favicon.ico">

<title>Journal of Yanick (3196)</title>

<link rel="stylesheet" type="text/css" media="screen, projection" href="//images.use.perl.org/base.css?T_2_5_0_235">
<link rel="stylesheet" type="text/css" media="screen, projection" href="//images.use.perl.org/comments.css?T_2_5_0_235">
<link rel="stylesheet" type="text/css" media="screen, projection" href="//images.use.perl.org/useperl.css?T_2_5_0_235">
<link rel="stylesheet" type="text/css" media="print" href="//images.use.perl.org/print.css?T_2_5_0_235">
<link rel="stylesheet" type="text/css" media="handheld" href="//images.use.perl.org/handheld.css?T_2_5_0_235">

<script src="//images.use.perl.org/jquery/jquery-1.2.6.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/jquery/jquery.metadata.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/slash.util.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/jquery/jquery.slashdot.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/yahoo.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/dom.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/event.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/dragdrop.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/animation.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/yui/calendar.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/sd_calendar.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/slash.article-info.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/tag-ui.js?T_2_5_0_235" type="text/javascript"></script>
<script src="//images.use.perl.org/common.js?T_2_5_0_235" type="text/javascript"></script>

<!-- start template: ID 121, header;misc;default -->

<link rel="top"       title="All the Perl that's Practical to Extract and Report" href="//use.perl.org/" >
<link rel="search"    title="Search use Perl" href="//use.perl.org/search.pl">
<link rel="author"    title="Yanick" href="//use.perl.org/~Yanick/">
<link rel="alternate" title="Yanick's Journal RSS" href="http://use.perl.org/~Yanick/journal/rss" type="application/rss+xml">
<link rel="alternate" title="Yanick's Friends' Journals RSS" href="http://use.perl.org/~Yanick/journal/friends/rss" type="application/rss+xml">
<link rel="alternate" title="Most Recent Journals RSS" href="//use.perl.org/journal.pl?op=top&amp;content_type=rss" type="application/rss+xml">
<link rel="alternate" title="Most Active Journals RSS" href="//use.perl.org/journal.pl?op=top&amp;type=count&amp;content_type=rss" type="application/rss+xml">
<link rel="alternate" title="Most Befriended Journals RSS" href="//use.perl.org/journal.pl?op=top&amp;type=friends&amp;content_type=rss" type="application/rss+xml">
<link rel="alternate" title="use Perl RSS" href="//use.perl.org/index.rss" type="application/rss+xml">
</head>
<body class="useperlorg">
<div id="top_parent"></div>

<div id="jump">
	<a href="#main-articles">Stories</a>
	<br>
	<a href="#blocks">Slash Boxes</a>
	<br>
	<a href="#comments">Comments</a>
</div>
<div class="ad1">

</div>
<div id="frame">

<div style="text-align:center">NOTE: <b>use Perl;</b> is on undef hiatus. You can read content, but you can't post it. More info will be forthcoming forthcomingly.</div>


<!-- UsePerl Ad Start -->
<div class="ad1"><!-- ad position 1 -->
<div id="fad1" style="text-align:center">
<!-- DoubleClick Ad Tag 1 -->
<script type="text/javascript">
	dfp_ord=Math.random()*10000000000000000;
	dfp_tile = 1;

	document.write('<script type="text/javascript" src="http://ad.doubleclick.net/adj/ostg.useperl/mainpage_p1_leader;pg=index;logged_in=0;tile='+dfp_tile+';ord='+dfp_ord+'?"><\/script>');
	dfp_tile++;
</script>
</div>
<!-- End DoubleClick Ad Tag 1 --></div>
<!-- UsePerl Ad End -->

	<div id="topnav">
		<div id="logo">
			<h1>
				<a href="//use.perl.org">use Perl</a>
			</h1>
		</div>
                <div class="search">
			<form method="get" action="//use.perl.org/search.pl">
				<fieldset>
					<legend></legend>
					<label>Search <strong>use Perl</strong></label>
					<input type="text" name="query" value="" size="20">
					<input type="submit" value="Go" class="button">
				</fieldset>
			</form>
		</div>
	</div>
	<div id="slogan">
		<h2>
			All the Perl that's Practical to Extract and Report
		</h2>
	</div>
	<div id="journalnav">
		<div id="links">
			

<!-- start template: ID 474, sidebox;misc;default -->

<div class="block">
	<div class="title" id="navigation-title">
		<h4>
			Navigation
		</h4>
	</div>
	<div class="content" id="navigation-content">
		<ul>
	<li class="begin">
		<a href="//use.perl.org/faq.shtml">FAQ</a>
	</li>
	<li>
		<a href="//use.perl.org/about.shtml">About</a>
        </li>
        <li>
		<a href="//use.perl.org/submit.pl">Submit Story</a>
        </li>
        <li>
		<a href="//use.perl.org/search.pl">Older Stories</a>
        </li>
        <li>	
		<a href="//use.perl.org/topics.shtml">Topics</a>
        </li>
        <li>
		<a href="//use.perl.org/pollBooth.pl">Polls</a>
        </li>
        <li>
		<a href="//use.perl.org/journal.pl">Journals</a>
        </li>
        <li>
		<a href="//use.perl.org/authors.pl">Authors</a>
        </li>
        <li>
		<a href="//use.perl.org/modulelist/">New Modules</a>
        </li>
        <li>
		<a href="//use.perl.org/users.pl?op=edithome">Preferences</a>

        </li>
</ul>
	</div>
</div>

<!-- end template: ID 474, sidebox;misc;default -->


		</div>
	</div>
	<div id="contents">
		
		<div id="journal">

<!-- end template: ID 121, header;misc;default -->



<!-- start template: ID 55, journalhead;journal;default -->

<div id="slashboxes">

<!-- start template: ID 474, sidebox;misc;default -->

<div class="block">
	<div class="title" id="userlogin-title">
		<h4>
			use Perl Log In
		</h4>
	</div>
	<div class="content" id="userlogin-content">
		
			<form action="//use.perl.org/login.pl" method="post">
<fieldset>
	<legend>Log In</legend>
	<label>
		Nickname
	</label>
	<input type="text" name="unickname" size="20" value="">
	<label>
		Password
	</label>
	<input type="hidden" name="returnto" value="//use.perl.org/">
	<input type="hidden" name="op" value="userlogin">
	<input type="password" name="upasswd" size="20">
	<label class="checkbox">
		<input type="checkbox" name="login_temp" value="yes">
		Public Terminal
	</label>
	<input type="submit" name="userlogin" value="Log in" class="button">
	</fieldset>
</form>
<p>
	[ <b>
		<a href="//use.perl.org/login.pl?op=newuserform">
			Create a new account
		</a>
	</b> ]
</p>
		
	</div>
</div>

<!-- end template: ID 474, sidebox;misc;default -->



<!-- start template: ID 474, sidebox;misc;default -->

<div class="block">
	<div class="title" id="user-info-title">
		<h4>
			Yanick (3196)
		</h4>
	</div>
	<div class="content" id="user-info-content">
		<a href="//use.perl.org/~Yanick/">Yanick</a> <br>&nbsp;&nbsp;(email not shown publicly)<br><a href="http://babyl.dyndns.org/techblog" rel="nofollow">http://babyl.dyndns.org/techblog</a>
	</div>
</div>

<!-- end template: ID 474, sidebox;misc;default -->


</div>
<div id="users-blocks">


<!-- start template: ID 376, tabbedmenu;misc;default -->



<!-- end template: ID 376, tabbedmenu;misc;default -->

<div class="generaltitle" >
	<div class="title">
		<h3 >
			<a href="//use.perl.org/~Yanick/journal/">Journal</a> of <a href="//use.perl.org/~Yanick/">Yanick</a> (3196)
			
		</h3>
	</div>
</div>


<div id="usermenu">
<ul class="menu">
<li><span class="begin"><a href="//use.perl.org/~Yanick/" class="begin">Info</a></span></li><li class="selected"><b><a href="//use.perl.org/~Yanick/journal/">Journal</a></b></li><li><a href="//use.perl.org/~Yanick/firehose/">Firehose</a></li><li><a href="//use.perl.org/~Yanick/friends/">Friends</a></li><li><a href="//use.perl.org/~Yanick/fans/">Fans</a></li><li><a href="//use.perl.org/~Yanick/foes/">Foes</a></li><li><a href="//use.perl.org/~Yanick/freaks/">Freaks</a></li><li><a href="//use.perl.org/~Yanick/tags/">Tags</a></li><li><a href="//use.perl.org/~Yanick/bookmarks/" class="end">Bookmarks</a></li>
</ul>
</div><div class="generalbody">

<!-- start template: ID 376, tabbedmenu;misc;default -->

<ul class="menu">
<li><span class="begin"><a href="//use.perl.org/journal.pl?op=top" class="begin">Top&nbsp;10</a></span></li><li><a href="//use.perl.org/journal.pl?op=friends" class="end">Friend's&nbsp;Journals</a></li>
</ul>

<!-- end template: ID 376, tabbedmenu;misc;default -->

<!-- end template: ID 55, journalhead;journal;default -->



<!-- start template: ID 65, slashdot;journal;default -->

<div id="journalslashdot">
    
	<div class="journaldate">Wednesday March 19, 2008</div>
	
	<div class="details">10:13 PM</div>
	<div class="title">
		<h3>per(l)version</h3>
	</div>
	<div class="adminoptions">
		[

			<a href="//use.perl.org/~Yanick/journal/35940">#35940</a>
		]
	</div>

	<div class="intro"><p>
Updating the version number is all the files of a module
distribution is a pain in the behind.  It's repetitive,
boring and ridiculously prone to errors -- in short,  a task
fit for a script, not for humans.  So I decided to hack myself
a little something, for the time being called <i>perversion</i>,
to take care of it.  </p><p>

The idea is pretty straight-forward. In the root directory of my
distribution, I have a config file named <i>perversionrc</i>
that contains Perl code that return an hash of all files
where the the module version is given, and regular expressions
to capture the said version.  For example, here's the
<i>perversionrc</i> of WWW::Ohloh::API:</p><blockquote><div><p> <tt>use File::Find::Rule;<br> <br>my %file;<br> <br>$file{README} = qr/WWW-Ohloh-API version (\S+)/;<br> <br>for my $m ( File::Find::Rule-&gt;file-&gt;name( '*.pm' )-&gt;in( 'lib' ) ) {<br>&nbsp; &nbsp;$file{$m} = [ qr/\$VERSION\s*=\s*'(.*?)';/,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;qr/This document describes \S+ version (\S*)/ ];<br>}<br> <br>%file;</tt></p></div> </blockquote><p>
Once that file is present, <i>perversion</i> is ready to rock.  You want to
verify that the version number is consistent in all given files?</p><blockquote><div><p> <tt>$ perversion<br>distribution version is set to 0.0.9<br>lib/WWW/Ohloh/API/Enlistment.pm:12: 0.0.6<br>!!! does not match distribution version (0.0.9) !!!<br>lib/WWW/Ohloh/API/Repository.pm:10: 0.0.6<br>!!! does not match distribution version (0.0.9) !!!<br>lib/WWW/Ohloh/API/ContributorLanguageFact.pm:10: 0.0.6<br>!!! does not match distribution version (0.0.9) !!!<br>lib/WWW/Ohloh/API/ContributorFact.pm:10: 0.0.6<br>!!! does not match distribution version (0.0.9) !!!<br>lib/WWW/Ohloh/API/ContributorFact.pm:241: 0.0.6<br>!!! does not match distribution version (0.0.9) !!!</tt></p></div> </blockquote><p>Want to set the version to a specific value?</p><blockquote><div><p> <tt>$ perversion -set 1.2.3<br>changing all versions to 1.2.3..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Language.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/ActivityFacts.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Account.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Kudos.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Project.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Enlistment.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/KudoScore.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Factoid.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Repository.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Projects.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/ContributorLanguageFact.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Languages.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/ActivityFact.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/ContributorFact.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Analysis.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating lib/WWW/Ohloh/API/Kudo.pm..<br>&nbsp; &nbsp; &nbsp; &nbsp; updating README..<br>done</tt></p></div> </blockquote><p>Don't want to go through the mental challenge of computing the
next version yourself? No problem!</p><blockquote><div><p> <tt>$ perversion -inc revision<br>distribution version is set to 1.2.3<br>new distribution version is 1.2.4<br> <br>$ perversion -inc minor<br>distribution version is set to 1.2.4<br>new distribution version is 1.3.0<br> <br>$ perversion -inc major<br>distribution version is set to 1.3.0<br>new distribution version is 2.0.0<br> <br>$ perversion -inc alpha<br>distribution version is set to 2.0.0<br>new distribution version is 2.0_1</tt></p></div> </blockquote><p>
The script is still raw and in need of polishing,
but for those interested, it's available from its
very own <a href="http://babyl.dyndns.org/git/?p=perversion.git" rel="nofollow">
git repository</a>.
</p></div>
	
    

	<div class="journalpage">
		
		<br>
		<a href="//use.perl.org/journal.pl?op=list&amp;uid=3196" class="all">List all Journal entries</a>
	</div>
</div>

<!-- end template: ID 65, slashdot;journal;default -->

</div></div>

<!-- start template: ID 159, printCommentsMain;misc;default -->

<a name="acomments"></a>
<div class="commentwrap" id="commentwrap">

<div class="commentBox" style="font-size: 120%">
	<div>
<span class="escape-link"><a href="//use.perl.org/~Yanick/journal/35940" title="Back to Article - per(l)version">per(l)version</a></span>
<span class="commentBoxLinks"><a href="#" onclick="D2.ajaxFetchComments(0,1); return false"><span id="more_comments_num_d"></span> More</a> |

	<a href="//use.perl.org/login.pl" onclick="show_login_box(); return false">Login</a>



	| <a href="//use.perl.org/comments.pl?sid=39002&amp;op=reply&amp;threshold=0&amp;commentsort=0&amp;mode=thread" onclick="D2.replyTo(0); return false;">Reply</a></span>
	</div>
</div>

	<div class="commentBoxForm" id="commentControlBox">
<div></div>
	<div class="commentBox">
		<small>
		<b>The Fine Print:</b> The following comments are owned by whoever posted them.  We are not responsible for them in any way.
		</small>
<noscript><br><small>Without JavaScript enabled, you might want to
use <a href="//use.perl.org/comments.pl?sid=39002&amp;threshold=0&amp;commentsort=0&amp;mode=thread&amp;no_d2=1">the classic discussion system</a> instead.  If you <a href="//use.perl.org/login.pl">login</a>, you can remember this preference.
</small></noscript>
	</div>
	</div>
	
		<div id="d2out" class="horizontal">
		<div id="d2act" class="hide">
		<div class="loki" id="gods">
		<div class="block">
			<div class="title">

				<h4>
				
					<span class="h-inline">
					<a href="//use.perl.org/~Yanick/journal/35940" title="Back to Article - per(l)version">per(l)version</a></span>
					<span class="titlecount"><a href="//use.perl.org/~Yanick/journal/35940#topcomment" title="Back to Top Comment - per(l)version"><span id="titlecountnum">9</span>&nbsp;Comments</a></span>
				
		<span class="ccw-header-links"><a href="#" onclick="D2.ajaxFetchComments(0,1); return false"><span id="more_comments_num_b"></span> More</a> |

	<a href="//use.perl.org/login.pl" onclick="show_login_box(); return false">Login</a>



	| <a href="//use.perl.org/comments.pl?sid=39002&amp;op=reply&amp;threshold=0&amp;commentsort=0&amp;mode=thread" onclick="D2.replyTo(0); return false;">Reply</a></span>
		<span id="d2toggle" title="Toggle window location" onclick="D2.toggleDisplayOptions()" class="close">/</span>
				</h4>
			</div>
		</div>
<script type="text/javascript">
gCommentControlWidget = null;

YAHOO.slashdot.ThresholdApp = function() {
  return {
    init: function() {
      gCommentControlWidget = new YAHOO.slashdot.ThresholdWidget('X');
      gCommentControlWidget.setTHT(D2.user_threshold(), D2.user_highlightthresh());
      D2.updateTotals();
    }
  };
}();

YAHOO.util.Event.addListener(window, "load", YAHOO.slashdot.ThresholdApp.init);
</script>
		<div id="bones">
      <div id="ccw">
        <div id="ccw-body" class="ccw-core">
          <div id="ccw-panel-container" class="ccw-core">
            <div id="ccw-full-panel" class="ccw-panel">
              <div class="ccw-panel-border"></div>
              <div id="ccw-full-count-pos" class="ccw-core-pos ccw-count-pos">
                <span id="ccw-full-count-text" class="ccw-count-text"><span id="currentFull"></span><span id="ccw-full-phrase">&nbsp;Full</span></span>
              </div>
            </div>
            <div id="ccw-abbr-panel" class="ccw-panel">
              <div class="ccw-panel-border"></div>
              <div id="ccw-abbr-count-pos" class="ccw-core-pos ccw-count-pos">
                <span id="ccw-abbr-count-text" class="ccw-count-text"><span id="currentOneline"></span><span id="ccw-abbr-phrase">&nbsp;Abbreviated</span></span>
              </div>
            </div>
            <div id="ccw-hide-panel" class="ccw-panel">
              <div id="ccw-hide-count-pos" class="ccw-core-pos ccw-count-pos">
                <span id="ccw-hide-count-text" class="ccw-count-text"><span id="currentHidden"></span><span id="ccw-hide-phrase">&nbsp;Hidden</span></span>
              </div>
            </div>
          </div>
    
          <div id="ccw-control" class="ccw-core">
            <div id="ccw-centering-rail" class="ccw-core">
              <div id="ccw-hide-bar-pos" class="ccw-core-pos">
                <div id="ccw-hide-bar" class="ccw-bar">
                  <div id="ccw-hide-bar-tab" class="ccw-bar-tab"></div>
                  <div id="ccw-hide-bar-upzone" class="ccw-upzone" onclick="gCommentControlWidget.stepTHT(HIDE_BAR, +1)"></div>
                  <div id="ccw-hide-bar-downzone" class="ccw-downzone" onclick="gCommentControlWidget.stepTHT(HIDE_BAR, -1)"></div>
                </div>
              </div>
              <div id="ccw-abbr-bar-pos" class="ccw-core-pos">
                <div id="ccw-abbr-bar" class="ccw-bar">
                  <div id="ccw-abbr-bar-tab" class="ccw-bar-tab"></div>
                  <div id="ccw-abbr-bar-upzone" class="ccw-upzone" onclick="gCommentControlWidget.stepTHT(ABBR_BAR, +1)"></div>
                  <div id="ccw-abbr-bar-downzone" class="ccw-downzone" onclick="gCommentControlWidget.stepTHT(ABBR_BAR, -1)"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
		</div>
		<div class="commentControlFooter"><a href="#" onclick="D2.ajaxFetchComments(0,1); return false"><span id="more_comments_num_c"></span> More</a> |

	<a href="//use.perl.org/login.pl" onclick="show_login_box(); return false">Login</a>



	| <a href="//use.perl.org/comments.pl?sid=39002&amp;op=reply&amp;threshold=0&amp;commentsort=0&amp;mode=thread" onclick="D2.replyTo(0); return false;">Reply</a><div id="login_cover" style="display:none" onclick="hide_login_box()"></div>
<div id="login_box" style="display:none">
<div class="generaltitle" >
	<div class="title">
		<h3 >
			Please Log In to Continue<a href="#" onclick="hide_login_box(); return false" class="close" title="Close this box"><img id="login_box_close" src="//images.use.perl.org/sic_close.png" alt="Close"></a>
			
		</h3>
	</div>
</div>
<div id="login_box_content">
<form action="//use.perl.org/login.pl" method="post">
<fieldset>
	<legend>Log In</legend>
	<label>
		Nickname
	</label>
	<input type="text" name="unickname" size="20" value="">
	<label>
		Password
	</label>
	<input type="hidden" name="returnto" value="//use.perl.org/comments.pl?sid=39002">
	<input type="hidden" name="op" value="userlogin">
	<input type="password" name="upasswd" size="20">
	<label class="checkbox">
		<input type="checkbox" name="login_temp" value="yes">
		Public Terminal
	</label>
	<input type="submit" name="userlogin" value="Log in" class="button">
	</fieldset>
</form>
<p>
	[ <b>
		<a href="//use.perl.org/login.pl?op=newuserform">
			Create a new account
		</a>
	</b> ]
</p>
</div></div>
<script type="text/javascript">logged_in = 0</script></div>
		<div id="commentControlBoxStatus" class="hide"><b>Loading... please wait.</b></div>
	</div>
</div>
		</div>
	
</div>
<a name="topcomment"></a>

<!-- end template: ID 159, printCommentsMain;misc;default -->



<!-- start template: ID 157, printCommComments;misc;default -->

<script src="//images.use.perl.org/comments.js?T_2_5_0_235" type="text/javascript"></script>
	<script type="text/javascript">
<!--
	D2.d2_keybindings_disable()[191] = 1;
	window.onscroll = D2.d2act;
	D2.boxStatus(1);
D2.comments({ 61726: { uid: 2653, pid: 0, read: 0, points: 2, kids: [ 61728 ], opid: 0 }, 61743: { uid: 3196, pid: 61724, subject: "Re:Like yours, but done with PPI...", read: 0, points: 1, kids: [  ], opid: 61724 }, 61744: { uid: 3196, pid: 61734, subject: "Re:Nearly everything...", read: 0, points: 1, kids: [  ], opid: 61734 }, 61727: { uid: 594, pid: 61724, subject: "Re:Like yours, but done with PPI...", read: 0, points: 1, kids: [  ], opid: 61724 }, 61749: { uid: 3196, pid: 61734, subject: "Re:Nearly everything...", read: 0, points: 1, kids: [  ], opid: 61734 }, 61724: { uid: 5735, pid: 0, read: 0, points: 1, kids: [ 61727, 61743 ], opid: 0 }, 61725: { uid: 8218, pid: 0, read: 0, points: 1, kids: [  ], opid: 0 }, 61728: { uid: 3196, pid: 61726, subject: "Re:Nearly everything...", read: 0, points: 1, kids: [ 61734 ], opid: 61726 }, 61734: { uid: 2653, pid: 61728, subject: "Re:Nearly everything...", read: 0, points: 2, kids: [ 61744, 61749 ], opid: 61728 } });

D2.thresh_totals({6:{6:{1:9,3:0,2:0}},4:{6:{1:9,3:0,2:0},4:{1:9,3:0,2:0},5:{1:9,3:0,2:0}},1:{6:{1:0,3:0,2:9},4:{1:0,3:0,2:9},1:{1:0,3:9,2:0},3:{1:0,3:1,2:8},2:{1:0,3:4,2:5},5:{1:0,3:0,2:9}},3:{6:{1:9,3:0,2:0},4:{1:9,3:0,2:0},3:{1:9,3:0,2:0},5:{1:9,3:0,2:0}},0:{6:{1:0,3:0,2:9},4:{1:0,3:0,2:9},1:{1:0,3:9,2:0},3:{1:0,3:1,2:8},0:{1:0,3:9,2:0},2:{1:0,3:4,2:5},5:{1:0,3:0,2:9}},2:{6:{1:7,3:0,2:2},4:{1:7,3:0,2:2},3:{1:7,3:1,2:1},2:{1:7,3:2,2:0},5:{1:7,3:0,2:2}},5:{6:{1:9,3:0,2:0},5:{1:9,3:0,2:0}},"-1":{6:{1:0,3:0,2:9},4:{1:0,3:0,2:9},1:{1:0,3:9,2:0},3:{1:0,3:1,2:8},0:{1:0,3:9,2:0},2:{1:0,3:4,2:5},5:{1:0,3:0,2:9},"-1":{1:0,3:9,2:0}}});

D2.root_comment(0);
D2.root_comments([61724,61725,61726]);
D2.root_comments_hash({61726:1,61725:1,61724:1});

D2.d2_comment_order(0);
D2.user_uid(7);
D2.user_is_anon(1);
D2.user_is_admin(0);
D2.user_is_subscriber(0);
D2.user_threshold(0);
D2.user_highlightthresh(4);
D2.user_d2asp(0);

D2.discussion_id(39002);

D2.d2_seen('61724,1,1,1,1,6,9,1,5');
D2.more_comments_num(0);


//-->
	</script>




	
	
	
	
		<ul id="commentlisting" class="d2">
			<li id="tree_61724" class="comment">
<div id="comment_status_61724" class="commentstatus"></div>
<div id="comment_61724" class="oneline">

	<div id="comment_top_61724" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61724" name="comment_link_61724" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61724" onclick="return D2.setFocusComment(61724)">Like yours, but done with PPI...</a>
			
			<span id="comment_score_61724" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61724); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~Alias/">Alias (5735)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61724"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61724"><a href="http://search.cpan.org/src/ADAMK/PPI-PowerToys-0.10/lib/PPI/App/Version.pm" title="cpan.org" rel="nofollow">http://search.cpan.org/src/ADAMK/PPI-PowerToys-0.10/lib/PPI/App/Version.pm</a> [cpan.org]<br><br>I really should chuck some proper docs on this and release it properly, instead of just relying on word of mouth<nobr> <wbr></nobr>:(</div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61724"></div>

</div>


<div id="replyto_61724"></div>

<ul id="group_61724">
	<li id="hiddens_61724" class="hide"></li>
</ul><ul id="commtree_61724"><li id="tree_61727" class="comment">
<div id="comment_status_61727" class="commentstatus"></div>
<div id="comment_61727" class="oneline">

	<div id="comment_top_61727" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61727" name="comment_link_61727" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61727" onclick="return D2.setFocusComment(61727)">Re:</a>
			
			<span id="comment_score_61727" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61727); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~jplindstrom/">jplindstrom (594)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61727"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61727">Shouldn't that be in the PPIx namespace?<br><br>Or was this written earlier than that?</div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61727"></div>

</div>


<div id="replyto_61727"></div>

<ul id="group_61727">
	<li id="hiddens_61727" class="hide"></li>
</ul></li><li id="tree_61743" class="comment">
<div id="comment_status_61743" class="commentstatus"></div>
<div id="comment_61743" class="oneline">

	<div id="comment_top_61743" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61743" name="comment_link_61743" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61743" onclick="return D2.setFocusComment(61743)">Re:</a>
			
			<span id="comment_score_61743" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61743); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~Yanick/">Yanick (3196)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61743"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61743"><p>At first, I also thought of tackling the problem
with PPI, but it has the disadvantage of not being
able to much with the pod (I think) and, of course,
non-Perl files like the README and friends. And those
are the harder half of the problem, because
in the code one could do</p><span class="substr"> </span><blockquote><div><p> <tt>&nbsp; &nbsp; use My::Module::Version; our $VERSION = $My::Module::Version::VERSION;</tt></p> </div></blockquote><p>and get away with only changing the $VERSION in <i>My::Module</i>.
Or, at least, I think one could do that.  I've didn't dare to
put that theory to the test</p></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61743"></div>

</div>


<div id="replyto_61743"></div>

<ul id="group_61743">
	<li id="hiddens_61743" class="hide"></li>
</ul></li></ul></li><li id="tree_61725" class="comment">
<div id="comment_status_61725" class="commentstatus"></div>
<div id="comment_61725" class="oneline">

	<div id="comment_top_61725" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61725" name="comment_link_61725" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61725" onclick="return D2.setFocusComment(61725)">another one</a>
			
			<span id="comment_score_61725" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61725); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~daxim/">daxim (8218)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61725"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61725"><a href="http://search.cpan.org/src/ANDYA/Perl-Version-1.004/examples/perl-reversion" title="cpan.org" rel="nofollow">http://search.cpan.org/src/ANDYA/Perl-Version-1.004/examples/perl-reversion</a> [cpan.org]</div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61725"></div>

</div>


<div id="replyto_61725"></div>

<ul id="group_61725">
	<li id="hiddens_61725" class="hide"></li>
</ul></li><li id="tree_61726" class="comment">
<div id="comment_status_61726" class="commentstatus"></div>
<div id="comment_61726" class="oneline">

	<div id="comment_top_61726" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61726" name="comment_link_61726" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61726" onclick="return D2.setFocusComment(61726)">Nearly everything...</a>
			
			<span id="comment_score_61726" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61726); return false">Score:2</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~barbie/">barbie (2653)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61726"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61726"><p>The one place I regularly forget to update is the META.yml. However, version strings in a META.yml get a little tricky as you need to change them in context of the distribution and modules versions and nothing else. Been thinking I need to automated that somehow<nobr> <wbr></nobr>... when I have time<nobr> <wbr></nobr>;)</p></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61726"></div>

</div>


<div id="replyto_61726"></div>

<ul id="group_61726">
	<li id="hiddens_61726" class="hide"></li>
</ul><ul id="commtree_61726"><li id="tree_61728" class="comment">
<div id="comment_status_61728" class="commentstatus"></div>
<div id="comment_61728" class="oneline">

	<div id="comment_top_61728" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61728" name="comment_link_61728" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61728" onclick="return D2.setFocusComment(61728)">Re:</a>
			
			<span id="comment_score_61728" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61728); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~Yanick/">Yanick (3196)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61728"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61728"><p>But then, META.yml is dealt with by './Build dist' or 'make dist',
so one shouldn't have to dabble with it, no?</p><span class="substr"> </span><p>And this being said, based on a five second pre-morning coffee
perusal of the way META.yml presents its stuff (i.e., I'm probably
wrong but still too sleepy for it to stop me<nobr> <wbr></nobr>:-) ), I think that
something looking like the following added to the perversionrc
hash should do the trick:</p><blockquote><div><p> <tt>$h{META.yml} = [<br>&nbsp; &nbsp; qr/ ^ name:&nbsp; &nbsp; \s \S+&nbsp; &nbsp;$<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vers</tt></p></div></blockquote></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61728"></div>

</div>


<div id="replyto_61728"></div>

<ul id="group_61728">
	<li id="hiddens_61728" class="hide"></li>
</ul><ul id="commtree_61728"><li id="tree_61734" class="comment">
<div id="comment_status_61734" class="commentstatus"></div>
<div id="comment_61734" class="oneline">

	<div id="comment_top_61734" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61734" name="comment_link_61734" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61734" onclick="return D2.setFocusComment(61734)">Re:</a>
			
			<span id="comment_score_61734" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61734); return false">Score:2</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~barbie/">barbie (2653)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61734"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61734"><p><div class="quote"><span class="substr"> </span><p>But then, META.yml is dealt with by './Build dist' or 'make dist', so one shouldn't have to dabble with it, no?</p></div><p>I don't use M::B and EU::MM doesn't build a fully documented META.yml. As such I write all my META.yml files by hand, as that way I can be guaranteed to include all the details I want.
</p><p>Also the ordering is not guaranteed, so your regex may work in some cases but not all. That's why I said it was tricky<nobr> <wbr></nobr>;) A good headstart mind<nobr> <wbr></nobr>:)</p></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61734"></div>

</div>


<div id="replyto_61734"></div>

<ul id="group_61734">
	<li id="hiddens_61734" class="hide"></li>
</ul><ul id="commtree_61734"><li id="tree_61744" class="comment">
<div id="comment_status_61744" class="commentstatus"></div>
<div id="comment_61744" class="oneline">

	<div id="comment_top_61744" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61744" name="comment_link_61744" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61744" onclick="return D2.setFocusComment(61744)">Re:</a>
			
			<span id="comment_score_61744" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61744); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~Yanick/">Yanick (3196)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61744"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61744"><p>Something that could be done would be to pervert <i>perversion</i> a little bit more still.  Instead of giving a regular expression as a value in the config hash, one could also pass references to a sub that would then be able to do whatever it wants with the file content... Including parsing its YAML, updating versions at the right places, and then spitting back the result.  It shouldn't be much more than a few lines more.  I might hack that in later on today, just for fun.<nobr> <wbr></nobr>:-)</p></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61744"></div>

</div>


<div id="replyto_61744"></div>

<ul id="group_61744">
	<li id="hiddens_61744" class="hide"></li>
</ul></li><li id="tree_61749" class="comment">
<div id="comment_status_61749" class="commentstatus"></div>
<div id="comment_61749" class="oneline">

	<div id="comment_top_61749" class="commentTop newcomment">
		<div class="title">
			
			<h4><a id="comment_link_61749" name="comment_link_61749" href="//use.perl.org/comments.pl?sid=39002&amp;cid=61749" onclick="return D2.setFocusComment(61749)">Re:</a>
			
			<span id="comment_score_61749" class="score">(<a href="#" onclick="getModalPrefs('modcommentlog', 'Moderation Comment Log', 61749); return false">Score:1</a>)</span></h4>
		</div>
		<div class="details">
			by
			<a href="//use.perl.org/~Yanick/">Yanick (3196)</a>
			
			
			<span class="otherdetails" id="comment_otherdetails_61749"></span>
		</div>
	</div>
	<div class="commentBody">
		<div id="comment_body_61749"><p>And here we go.  I've updated the code such that you can now hook
a subroutine ref in the <i>perversionrc</i> hash. E.g.:</p><span class="substr"> </span><blockquote><div><p> <tt>use YAML qw/ Load Dump<nobr> <wbr></nobr>/;<br> <br>sub do_meta {<br>&nbsp; &nbsp; my ( $text, $version ) = @_;<br> <br>&nbsp; &nbsp; my $yaml = Load( $text );<br> <br>&nbsp; &nbsp; my @old;<br> <br>&nbsp; &nbsp; push @old, $yaml-&gt;{version};<br>&nbsp; &nbsp; $yaml-&gt;{version} = $version;<br> <br>&nbsp; &nbsp; for ( values %{ $yaml-&gt;{provides} } ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; push @old, $_-&gt;{version};<br>&nbsp; &nbsp; &nbsp; &nbsp; $_-&gt;{version} = $</tt></p></div></blockquote></div>
		
	
	</div>
	<div class="commentSub" id="comment_sub_61749"></div>

</div>


<div id="replyto_61749"></div>

<ul id="group_61749">
	<li id="hiddens_61749" class="hide"></li>
</ul></li></ul></li></ul></li></ul></li>
			<li id="roothiddens" class="hide"></li>
		</ul>
	
	
	
	


<div id="replyto_0"></div>


<div id="discussion_buttons">


<span class="nbutton"><p><b><a href="#" onclick="D2.ajaxFetchComments(0,1); return false"><span id="more_comments_num_a" class="hide">Get More Comments</span></a></b></p></span>



<span class="nbutton"><p><b><a href="//use.perl.org/comments.pl?sid=39002&amp;op=reply&amp;threshold=0&amp;commentsort=0&amp;mode=thread" onclick="D2.replyTo(0); return false;">Reply</a></b></p></span>







</div>



	<script type="text/javascript">
<!--
		D2.currents()['hidden']   = 0;
		D2.currents()['full']     = 0;
		D2.currents()['oneline']  = 9;
		// D2.currents_total(9);

		D2.abbrev_comments({61743:281,61749:128,61728:118,61734:22});
		D2.noshow_comments([]);
		D2.pieces_comments([61724,61727,61743,61725,61726,61728,61734,61744,61749]);
		D2.init_hiddens([]);

		D2.finishLoading();


		if (D2.thresh_totals()[6][6][1] == 0) {
			D2.replyTo(0, 1);
		}


//-->
	</script>

<!-- end template: ID 157, printCommComments;misc;default -->



<!-- start template: ID 112, footer;misc;default -->

</div>
                </div>
                <div id="footer">
			<div class="download">
                                <!-- START DOWNLOAD PERL -->
                                <!-- Perl Mongers, Inc.  web@perlmongers.org -->
                                <a href="http://www.cpan.org/ports/index.html"><img src="http://www.perl.org/Images/download_perl.gif" width="102" height="42" alt="Download Perl Now!"></a>
                                <!-- END DOWNLOAD PERL -->
                        </div>	
			<div class="sitelogo">
				<a href="//use.perl.org/">
					<img src="http://images.use.perl.org/topics/useperl.gif" alt="useperl">
				</a>
			</div>
                        <em>
				Besides, it's good to force C programmers to use the toolbox occasionally.<BR>
:-)<BR>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --Larry Wall in &lt;1991May31.181659.28817@jpl-devvax.jpl.nasa.gov&gt;
			</em>
		</div>
		<div class="copyright">
			Stories, comments, journals, and other submissions on use Perl; are Copyright 1998-2006, their respective owners.
		</div>
		<div class="btmnav">
			<ul>
	<li class="begin">
		<a href="//use.perl.org/faq.shtml">FAQ</a>
	</li>
	<li>
		<a href="//use.perl.org/about.shtml">About</a>
        </li>
        <li>
		<a href="//use.perl.org/submit.pl">Submit Story</a>
        </li>
        <li>
		<a href="//use.perl.org/search.pl">Older Stories</a>
        </li>
        <li>	
		<a href="//use.perl.org/topics.shtml">Topics</a>
        </li>
        <li>
		<a href="//use.perl.org/pollBooth.pl">Polls</a>
        </li>
        <li>
		<a href="//use.perl.org/journal.pl">Journals</a>
        </li>
        <li>
		<a href="//use.perl.org/authors.pl">Authors</a>
        </li>
        <li>
		<a href="//use.perl.org/modulelist/">New Modules</a>
        </li>
        <li>
		<a href="//use.perl.org/users.pl?op=edithome">Preferences</a>

        </li>
</ul>
		</div>
        </div>
<div id="modal_cover" style="display:none" onclick="hide_modal_box()"></div>
<div id="modal_box" style="display:none">
        <div class="generaltitle" >
                <div class="title"><h3><span id="preference_title"></span> <a href="#" onclick="hide_modal_box(); return false"><img src="//images.use.perl.org/sic_close.png" alt="Close"></a></h3></div>
        </div>
        <div id="modal_box_content"></div>
</div>

	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-32013-15";
		urchinTracker();
	</script>

</body>
</html>

<!-- end template: ID 112, footer;misc;default -->

